# codesnippet
代码片段是对常用代码的一个抽象，它保留了大部分不变的代码，然后把需要经常变动的部分，换成变量，这样等下次调用它的时候，只需要把这些变量换成我们需要的就可以了。

## 创建snippet
首先，我们打开命令面板，搜索“配置用户代码片段”（Confgure User Snippets）并且执行。这时候我们会看到一个列表，让我们选择语言。

选择完语言后，我们就能看到一个 JSON 文件被打开了，这个文件里的内容，现在都是被注释掉的。我们可以选中第七行到第十四行，按下 “Cmd+ /”取消注释。

```
 {
	'Print to console': {
	    prefx: 'log',
	    body: ["console.log('$1');", '$2'],
	    description: 'Log output to console'
}

```

你已经看到了，这个代码片段文件，是一个 JSON 文件，它的根对象下面的所有子节点都是一个单独的代码片段，并能够被我们调用和插入编辑器。这个代码片段对象的键（key）是这个代码片段的名字，我们在书写时只要保证这个名字跟当前文件里的其他代码片段不冲突就可以了。

在上面的例子里，这个代码片段的名字叫做 “Print to console”。这个代码片段对象的值，也就是花括号里的代码，必须要包含 “prefx” 前缀和 “body” 内容这两个属性。同时，这个值还可以包含“description” 描述这个属性，但这个属性不是必须的。

“prefx” 的作用是，当我们在编辑器里打出跟 “prefx” 一样的字符时，我们就能在建议列表里看到这个代码片段的选项，然后我们按下 Tab 键，就能够将这个代码片段的 “body” 里面的内容插入到编辑器里。如果这个代码片段有 “description” 这个属性的话，那么我们还能够在建议列表的快速查看窗口里看到这段 “description”。

比如现在我们可以打开一个 JavaScript 文件（还以之前的一段代码为例），然后输入 log，你就能够在建议列表里看到 “Print to console”这个建议。

## Tab Stop
“body” 里的内容，并不只是一个纯文本，它其实是一个模板。要让它像模板一样工作，我们就需要先理解一个概念，叫做Tab Stop。像我们现在研究的这个代码片段里，当 “body” 内容被插入到编辑器后，你会发现，内容里的$1和$2不见了，取而代之的是两个竖线。这$1和$2就是Tab Stop，意思是，当我们按下 Tab 键之后，光标移动到的位置。当这段代码片段被插入到编辑器后，编辑器会把光标移动到$1所在的位置，然后如果你再按一次 Tab 键，光标则会立刻移动到$2的位置。

## 占位符
在我们插入 Tab Stop 的时候，除了$1、$2这样的语法，我们还可以填入${1:label}，在这个格式下，代码片段被插入编辑器里时，$1 的位置处，会预先填入label这个值，并且label会被选中。
对于这个值我们称之为占位符，顾名思义，这个值是我们在代码片段中预先设置好的。

## 预设变量
上面提到了，在每个 Tab Stop 的位置，我们可以提供占位符，也就是提前预设好一些值。但这些占位符是我们提前写在代码片段里的，跟当前代码的上下文往往没什么关系。不过，VS Code 的代码片段支持里，还提供了一种模板，叫做预设变量。
比如说，我们想在代码片段里的某个位置使用剪切板的内容，那么我们在那个位置写上$CLIPBOARD就好了，如果我们希望插入代码片段后自己可以修改这个值，也可以将它放在一个 Tab Stop 里面，语法则是${1:$CLIPBOARD}。



